Механизм работы
1. Слушаем сокет
2. Создаем соединение
3. Передаем соединение в таск ConnectionTask
4. С браузером устанавливается WS соединение
5. Из ConnectionTask возвращается IOWSSocket (работает с абстракциями WS сообщений и ковертирует их в и из байтового потока)
6. На основе IOWSSocket создается WSClient и добавляется в ClientRegistry
7. Для WSClient создается 2 потока - на чтение и на запись.